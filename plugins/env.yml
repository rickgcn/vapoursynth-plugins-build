# Shared environment configuration for VapourSynth plugins
# This file contains common environment variables that can be used by multiple plugins

env:
  darwin-x86_64:
    CFLAGS: "-mmacosx-version-min=10.15 -mmacos-version-min=10.15"
    CXXFLAGS: "-mmacosx-version-min=10.15 -mmacos-version-min=10.15"
    MACOSX_DEPLOYMENT_TARGET: "10.15"
    MACOS_DEPLOYMENT_TARGET: "10.15"
  darwin-aarch64:
    CFLAGS: "-mmacosx-version-min=11.0 -mmacos-version-min=11.0"
    CXXFLAGS: "-mmacosx-version-min=11.0 -mmacos-version-min=11.0"
    MACOSX_DEPLOYMENT_TARGET: "11.0"
    MACOS_DEPLOYMENT_TARGET: "11.0"
  darwin-.*:
    CFLAGS: "-O3 -fPIC"
    CXXFLAGS: "-O3 -fPIC"
  linux-.*:
    CFLAGS: "-O3 -fPIC"
    CXXFLAGS: "-O3 -fPIC"
    CPPFLAGS: "-I{INSTALLDIR}/usr/local/include"
    LDFLAGS: "-L{INSTALLDIR}/usr/local/lib -Wl,-Bsymbolic"
    DESTDIR: "{INSTALLDIR}"
    PKG_CONFIG_PATH: "{INSTALLDIR}/usr/local/lib/pkgconfig"
    PKG_CONFIG_LIBDIR: "{INSTALLDIR}/usr/local/lib/pkgconfig"
    PKG_CONFIG_SYSROOT_DIR: "{INSTALLDIR}"