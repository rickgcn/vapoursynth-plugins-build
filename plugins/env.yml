# Shared environment configuration for VapourSynth plugins
# This file contains common environment variables that can be used by multiple plugins
#
# For cross-compilation, set SYSROOT environment variable:
#   export SYSROOT=/path/to/cross/sysroot
#
# The {SYSROOT} placeholder will be replaced with the actual path.

env:
  darwin-x86_64:
    CFLAGS: "-mmacosx-version-min=10.11 -mmacos-version-min=10.11"
    CXXFLAGS: "-mmacosx-version-min=10.11 -mmacos-version-min=10.11"
  darwin-aarch64:
    CFLAGS: "-mmacosx-version-min=11.0 -mmacos-version-min=11.0"
    CXXFLAGS: "-mmacosx-version-min=11.0 -mmacos-version-min=11.0"
  darwin-.*:
    CFLAGS: "-O3 -fPIC"
    CXXFLAGS: "-O3 -fPIC"
  linux-.*:
    CFLAGS: "--sysroot={SYSROOT} -O3 -fPIC"
    CXXFLAGS: "--sysroot={SYSROOT} -O3 -fPIC"
    LDFLAGS: "--sysroot={SYSROOT}"
    DESTDIR: "{SYSROOT}"
    C_INCLUDE_PATH: "{SYSROOT}/usr/include"
    CPLUS_INCLUDE_PATH: "{SYSROOT}/usr/include"
