# Shared environment configuration for VapourSynth plugins
# This file contains common environment variables that can be used by multiple plugins

env:
  darwin-x86_64:
    CFLAGS: "-mmacosx-version-min=10.15 -mmacos-version-min=10.15"
    CXXFLAGS: "-mmacosx-version-min=10.15 -mmacos-version-min=10.15"
    MACOSX_DEPLOYMENT_TARGET: "10.15"
    MACOS_DEPLOYMENT_TARGET: "10.15"
  darwin-aarch64:
    CFLAGS: "-mmacosx-version-min=11.0 -mmacos-version-min=11.0"
    CXXFLAGS: "-mmacosx-version-min=11.0 -mmacos-version-min=11.0"
    MACOSX_DEPLOYMENT_TARGET: "11.0"
    MACOS_DEPLOYMENT_TARGET: "11.0"
  darwin-.*:
    CFLAGS: "-O3 -fPIC"
    CXXFLAGS: "-O3 -fPIC"
  linux-.*:
    CFLAGS: "-O3 -fPIC -I{PREFIXDIR}/include"
    CXXFLAGS: "-O3 -fPIC -I{PREFIXDIR}/include"
    LDFLAGS: "-L{PREFIXDIR}/lib -Wl,-Bsymbolic"
    PKG_CONFIG_PATH: "{PREFIXDIR}/lib/pkgconfig"
    PKG_CONFIG_SYSROOT_DIR: "{SYSROOT}"
    CC: "{TARGET_TRIPLET}-gcc"
    CXX: "{TARGET_TRIPLET}-g++"
    AR: "{TARGET_TRIPLET}-ar"
    RANLIB: "{TARGET_TRIPLET}-ranlib"
    STRIP: "{TARGET_TRIPLET}-strip"
    AS: "{TARGET_TRIPLET}-as"