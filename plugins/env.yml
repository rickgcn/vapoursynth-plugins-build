# Shared environment configuration for VapourSynth plugins
# This file contains common environment variables that can be used by multiple plugins

env:
  darwin-x86_64:
    CFLAGS: "-mmacosx-version-min=10.11 -mmacos-version-min=10.11"
    CXXFLAGS: "-mmacosx-version-min=10.11 -mmacos-version-min=10.11"
    MACOSX_DEPLOYMENT_TARGET: "10.15"
    MACOS_DEPLOYMENT_TARGET: "10.15"
  darwin-aarch64:
    CFLAGS: "-mmacosx-version-min=11.0 -mmacos-version-min=11.0"
    CXXFLAGS: "-mmacosx-version-min=11.0 -mmacos-version-min=11.0"
    MACOSX_DEPLOYMENT_TARGET: "11.0"
    MACOS_DEPLOYMENT_TARGET: "11.0"
  darwin-.*:
    CFLAGS: "-O3 -fPIC"
    CXXFLAGS: "-O3 -fPIC"
  linux-.*:
    CFLAGS: "-O3 -fPIC"
    CXXFLAGS: "-O3 -fPIC"
    LDFLAGS: "-Wl,-Bsymbolic"
    DESTDIR: "{WORKDIR}/../install"
    PKG_CONFIG_PATH: "{DESTDIR}/usr/local/lib/pkgconfig:{DESTDIR}/usr/share/pkgconfig"
